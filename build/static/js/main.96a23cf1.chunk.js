(this.webpackJsonpnfatodfa=this.webpackJsonpnfatodfa||[]).push([[0],{17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(1),s=n.n(i),r=n(11),o=n.n(r),u=(n(17),n(3)),c=n(4),l=n(5),h=n(7),f=n(6);function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=[t];return n=n.concat(t),e.find((function(e){return e.state_name===t})).transitions.forEach((function(t){"e"!==t.transition||n.includes(t.destiny_state_name)||(a=a.concat(d(t.destiny_state_name,e,n)))})),a}function p(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])<0)return!1;return!0}function b(t){var e=t.initialState;t.nfa.forEach((function(e){return e.transitions.forEach((function(e){t.transitions.indexOf(e.transition)<0&&"e"!==e.transition&&t.transitions.push(e.transition)}))}));for(var n,a,i=t.transitions,s=t.nfa,r=[],o=[],u=[],c=[d(e,s)];0!==c.length;)n=c[0],c.shift(),a={state:n,transitions:[],final_state:!1},o.push(n),i.forEach((function(t){u=[],n.forEach((function(e){var n,a;u=u.concat((a=t,d(e,n=s).map((function(t){return function(t,e,n){var a=e.find((function(e){return e.state_name===t})).transitions.filter((function(t){return t.transition===n}));return a.map((function(t){return t.destiny_state_name}))}(t,n,a)})).filter((function(t){return 0!==t.length})).map((function(t){return t.map((function(t){return d(t,n)}))})).flat(2).filter((function(t,e,n){return n.indexOf(t)===e}))))})),u=u.filter((function(t,e,n){return n.indexOf(t)===e})),a.transitions.push({destiny_state:u,transition:t}),j(c,u)||j(o,u)||0===u.length||c.push(u)})),r.push(a);return r.forEach((function(t){t.state.forEach((function(e){s.find((function(t){return e===t.state_name})).final_state&&(t.final_state=!0)}))})),r}function j(t,e){for(var n=0;n<t.length;n++)if(p(t[n],e))return!0;return!1}var m=n(8),v=n(9),O=n(2),y=function(t){Object(h.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"addState",value:function(){this.props.updateState({nfa:[].concat(Object(O.a)(this.props.formValues.nfa),[{state_name:"",final_state:!1,transitions:[{transition:"",destiny_state_name:""}]}])})}},{key:"addStateTransition",value:function(t,e){var n=Object(O.a)(this.props.formValues.nfa);e.transitions=e.transitions.concat([{transition:"",destiny_state_name:""}]),n[t]=e,this.props.updateState({nfa:n})}},{key:"removeStateTransition",value:function(t,e,n){var a=Object(O.a)(this.props.formValues.nfa);n.transitions.splice(e,1),a[t]=n,this.props.updateState({nfa:a})}},{key:"removeState",value:function(t){var e=Object(O.a)(this.props.formValues.nfa);e.splice(t,1),this.props.updateState({nfa:e})}},{key:"isFinalState",value:function(t,e){var n=Object(O.a)(this.props.formValues.nfa);e.final_state=!e.final_state,n[t]=e,this.props.updateState({nfa:n})}},{key:"createUI",value:function(){var t=this;return this.props.formValues.nfa.map((function(e,n){return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{className:"state",placeholder:"State",name:"state_name",value:e.state_name||"",onChange:t.handleNameChange.bind(t,n)}),Object(a.jsxs)("label",{className:"finalState",children:[Object(a.jsx)("input",{type:"checkbox",value:e.final_state,defaultChecked:e.final_state,onChange:t.isFinalState.bind(t,n,e)}),"Final state "]}),e.transitions.map((function(i,s){return Object(a.jsxs)("li",{children:[Object(a.jsx)("input",{className:"transition",placeholder:"transition",name:"transition",value:i.transition||"",onChange:t.handleStateTransitionChange.bind(t,n,s)}),Object(a.jsx)("input",{className:"transition",placeholder:"destiny state name",name:"destiny_state_name",value:i.destiny_state_name||"",onChange:t.handleStateTransitionChange.bind(t,n,s)}),Object(a.jsx)("input",{type:"button",value:"remove state transition",onClick:t.removeStateTransition.bind(t,n,s,e)})]},s)})),Object(a.jsx)("input",{type:"button",value:"add state transition",onClick:t.addStateTransition.bind(t,n,e)}),Object(a.jsx)("input",{type:"button",value:"remove state",onClick:t.removeState.bind(t,n)})]},n)}))}},{key:"handleStateTransitionChange",value:function(t,e,n){var a=n.target,i=a.name,s=a.value,r=Object(O.a)(this.props.formValues.nfa);r[t].transitions[e]=Object(v.a)(Object(v.a)({},r[t].transitions[e]),{},Object(m.a)({},i,s)),this.props.updateState({nfa:r})}},{key:"handleNameChange",value:function(t,e){var n=e.target,a=n.name,i=n.value,s=Object(O.a)(this.props.formValues.nfa);s[t]=Object(v.a)(Object(v.a)({},s[t]),{},Object(m.a)({},a,i)),this.props.updateState({nfa:s})}},{key:"handleSubmit",value:function(t){alert("A name was submitted: "+JSON.stringify(this.props.formValues)),t.preventDefault()}},{key:"handleChange",value:function(t){var e=t.target,n=e.name,a=e.value;this.props.updateState(Object(m.a)({},n,a))}},{key:"addTransition",value:function(){this.props.updateState({transitions:this.props.formValues.transitions.concat("")})}},{key:"render",value:function(){return Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.createUI(),Object(a.jsx)("input",{className:"startState",placeholder:"start state",name:"initialState",value:this.props.formValues.initialState,onChange:this.handleChange.bind(this)}),Object(a.jsx)("input",{type:"button",value:"add new state",onClick:this.addState.bind(this)})]})}}]),n}(s.a.Component),S=function(t){Object(h.a)(n,t);var e=Object(f.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"null_handler",value:function(t,e){return 0===t.length?"\u2205":t.join("")}},{key:"render",value:function(){var t=this;return Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:" "}),this.props.data.transitions.map((function(t,e){return Object(a.jsx)("th",{children:t},e)}))]}),this.props.data.dfa.map((function(e,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:e.final_state?{fontWeight:"bold"}:{fontWeight:"normal"},children:t.null_handler(e.state,n)}),e.transitions.map((function(e,n){return Object(a.jsx)("td",{children:t.null_handler(e.destiny_state)},n)}))]},n)}))]})})}}]),n}(s.a.Component),_=function(t){Object(h.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).state={nfa:[{state_name:"",final_state:!1,transitions:[{transition:"",destiny_state_name:""}]}],transitions:[],initialState:"",dfa:[],showResult:!1},a.updateState=a.updateState.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"updateState",value:function(t){this.setState(t)}},{key:"showDfa",value:function(){try{this.setState({dfa:b(this.state),showResult:!0})}catch(t){console.error(t),this.setState({showResult:!0})}}},{key:"ModeEdit",value:function(){this.setState({showResult:!1})}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.state.showResult?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"NOTE: The ones in bold font are final states and the empty symbol is a trash state or dead state "}),Object(a.jsx)(S,{data:this.state}),Object(a.jsx)("input",{type:"button",value:"Go back",onClick:this.ModeEdit.bind(this)})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:'NOTE: If you want to add a epsilon transition you can use the lowecase letter "e" as the transition'}),Object(a.jsx)(y,{updateState:this.updateState.bind(this),formValues:this.state}),Object(a.jsx)("input",{type:"button",value:"convert",onClick:this.showDfa.bind(this)})]})})}}]),n}(s.a.Component);o.a.render(Object(a.jsx)(_,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.96a23cf1.chunk.js.map